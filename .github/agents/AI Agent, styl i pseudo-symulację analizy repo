<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Ultra Repo AI Agent</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; background: #f5f5f5; }
    h1 { color: #333; }
    .section { background: white; padding: 1rem; margin-bottom: 1rem; border-radius: 5px; }
    .score { font-weight: bold; color: #2a9d8f; }
    button { padding: 0.5rem 1rem; margin-top: 1rem; cursor: pointer; }
  </style>
</head>
<body>

<h1>Ultra Repo AI Agent</h1>

<div class="section" id="analysis">
  <h2>Analiza repozytorium</h2>
  <pre id="analysisOutput">Kliknij "Rozpocznij analizÄ™", aby wygenerowaÄ‡ raport.</pre>
  <button onclick="runAnalysis()">Rozpocznij analizÄ™</button>
</div>

<div class="section" id="decision">
  <h2>Decyzje i rekomendacje</h2>
  <pre id="decisionOutput">Tutaj pojawiÄ… siÄ™ decyzje agenta.</pre>
</div>

<script>
  // --- Dane przykÅ‚adowe repo (symulacja) ---
  const repoFiles = [
    'app.js', 'index.html', 'Dockerfile', 'README.md', 'config.yaml', 'test/test_app.js'
  ];

  const securityIssues = ['Brak walidacji inputu', 'Nieaktualne zaleÅ¼noÅ›ci npm'];
  const refactorSuggestions = ['Podziel monolit app.js na moduÅ‚y', 'UproÅ›Ä‡ logikÄ™ w index.html'];
  const roadmap = ['NaprawiÄ‡ security issues', 'Refaktoryzacja moduÅ‚Ã³w', 'DodaÄ‡ CI/CD', 'GenerowaÄ‡ testy automatyczne'];

  // --- Funkcja symulujÄ…ca analizÄ™ repo ---
  function runAnalysis() {
    const analysisOutput = document.getElementById('analysisOutput');
    let output = 'ðŸ“‚ Pliki repo:\n';
    repoFiles.forEach(f => output += `- ${f}\n`);

    output += '\nðŸ”’ Security:\n';
    securityIssues.forEach(s => output += `- ${s}\n`);

    output += '\nðŸ›  Refaktoryzacja:\n';
    refactorSuggestions.forEach(r => output += `- ${r}\n`);

    output += '\nðŸ—º Roadmapa:\n';
    roadmap.forEach((r, i) => output += `${i+1}. ${r}\n`);

    output += '\nðŸ“Š Scoring:\n';
    output += `- BezpieczeÅ„stwo: ${Math.floor(Math.random()*4 + 7)}/10\n`;
    output += `- UtrzymalnoÅ›Ä‡: ${Math.floor(Math.random()*4 + 6)}/10\n`;
    output += `- WydajnoÅ›Ä‡: ${Math.floor(Math.random()*4 + 5)}/10\n`;
    output += `- GotowoÅ›Ä‡ produkcyjna: ${Math.floor(Math.random()*4 + 5)}/10\n`;

    analysisOutput.textContent = output;

    runDecisionMaking();
  }

  // --- Funkcja symulujÄ…ca decyzje agenta ---
  function runDecisionMaking() {
    const decisionOutput = document.getElementById('decisionOutput');
    const choices = [
      'Zacznij od naprawy security issues',
      'Najpierw refaktoryzacja moduÅ‚Ã³w',
      'Dodaj CI/CD i testy automatyczne',
      'OdpuÅ›Ä‡ drobne poprawki na teraz'
    ];
    // pseudo-wolna wola: losowy wybÃ³r 70% / 30% wariancji
    const index = Math.random() < 0.7 ? 0 : Math.floor(Math.random()*choices.length);
    decisionOutput.textContent = `ðŸ¤– Rekomendacja agenta: ${choices[index]}`;
  }
</script>

</body>
</html>
